<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PC Subscription Manager | ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Inter:wght@400;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .app-container {
            background: #f8fafc;
            min-height: 100vh;
        }
        
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-box {
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 48px;
            max-width: 440px;
            width: 100%;
            animation: slideUp 0.5s ease;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 32px 24px;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
        }
        
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            transform: translateY(-4px);
        }
        
        .stat-card {
            background: white;
            border-radius: 20px;
            padding: 28px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 5px solid;
        }
        
        .stat-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
        }
        
        .btn {
            padding: 14px 28px;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            font-family: inherit;
            font-size: 15px;
        }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }
        
        .btn-edit {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .btn-logout {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
            color: white;
        }
        
        .input-field {
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-family: inherit;
            transition: all 0.3s ease;
            width: 100%;
            font-size: 15px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .status-badge {
            padding: 8px 18px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 800;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-active {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            color: #166534;
        }
        
        .status-warning {
            background: linear-gradient(135deg, #fef3c7 0%, #fde047 100%);
            color: #92400e;
        }
        
        .status-danger {
            background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
            color: #991b1b;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 36px;
            max-width: 560px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
        }
        
        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .customer-card {
            background: white;
            border-radius: 20px;
            padding: 28px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            border-left: 6px solid;
            transition: all 0.3s ease;
        }
        
        .customer-card:hover {
            transform: translateX(-8px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
        }
        
        .lang-switcher {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            background: white;
            border-radius: 12px;
            padding: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            gap: 8px;
        }
        
        .lang-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .lang-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .lang-btn:not(.active):hover {
            background: #f1f5f9;
        }
        
        .admin-badge {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .viewer-badge {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .alert {
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-info {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e40af;
            border: 2px solid #60a5fa;
        }
        
        .alert-success {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
            border: 2px solid #34d399;
        }
        
        .alert-error {
            background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
            color: #991b1b;
            border: 2px solid #f87171;
        }
        
        .link-btn {
            background: none;
            border: none;
            color: #667eea;
            font-weight: 700;
            cursor: pointer;
            text-decoration: underline;
            font-size: 15px;
            padding: 0;
            font-family: inherit;
        }
        
        .link-btn:hover {
            color: #764ba2;
        }
        
        @media (max-width: 768px) {
            .login-box {
                padding: 32px 24px;
            }
            .modal-content {
                padding: 24px;
            }
            .stat-card {
                padding: 20px;
            }
        }
        
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }
        
        .empty-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #e5e7eb;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        [dir="ltr"] .customer-card {
            border-left: none;
            border-right: 6px solid;
        }
        
        [dir="ltr"] .customer-card:hover {
            transform: translateX(8px);
        }
        
        [dir="ltr"] .stat-card {
            border-left: none;
            border-right: 5px solid;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const translations = {
            ar: {
                loginTitle: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ',
                loginSubtitle: 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™ PC',
                registerTitle: 'ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ',
                registerSubtitle: 'ÿ≠ÿ≥ÿßÿ® ŸÖÿ¥ÿßŸáÿØÿ© ŸÅŸÇÿ∑',
                username: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ',
                password: 'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
                confirmPassword: 'ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
                loginButton: 'ÿØÿÆŸàŸÑ',
                registerButton: 'ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®',
                backToLogin: 'ÿßŸÑÿπŸàÿØÿ© ŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ',
                noAccount: 'ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ®ÿü',
                createAccount: 'ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ',
                loginError: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿà ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©',
                passwordMismatch: 'ŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ŸÖÿ™ÿ∑ÿßÿ®ŸÇÿ©',
                usernameExists: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸàÿ¨ŸàÿØ ÿ®ÿßŸÑŸÅÿπŸÑ',
                registerSuccess: 'ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿ®ŸÜÿ¨ÿßÿ≠! ŸäŸÖŸÉŸÜŸÉ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿßŸÑÿ¢ŸÜ',
                usernameTooShort: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ 3 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ',
                passwordTooShort: 'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ 6 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ',
                
                appTitle: 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™ PC',
                appSubtitle: 'ÿ•ÿØÿßÿ±ÿ© ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ© ŸàŸÖÿ™ŸÇÿØŸÖÿ© ŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™ ÿßŸÑÿπŸÖŸÑÿßÿ°',
                logout: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿÆÿ±Ÿàÿ¨',
                admin: 'ŸÖÿØŸäÿ±',
                viewer: 'ŸÖÿ¥ÿßŸáÿØ',
                viewerMode: 'Ÿàÿ∂ÿπ ÿßŸÑŸÖÿ¥ÿßŸáÿØÿ© ŸÅŸÇÿ∑ - ŸÑÿß ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ™ÿπÿØŸäŸÑ',
                
                totalCustomers: 'ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿπŸÖŸÑÿßÿ°',
                activeSubscriptions: 'ÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™ ŸÜÿ¥ÿ∑ÿ©',
                expiringSoon: 'ÿ™ŸÜÿ™ŸáŸä ŸÇÿ±Ÿäÿ®ÿßŸã',
                expired: 'ŸÖŸÜÿ™ŸáŸäÿ©',
                
                addCustomer: 'ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸäŸÑ ÿ¨ÿØŸäÿØ',
                searchPlaceholder: 'ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿπŸÖŸäŸÑ...',
                all: 'ÿßŸÑŸÉŸÑ',
                active: 'ŸÜÿ¥ÿ∑',
                expiring: 'ŸäŸÜÿ™ŸáŸä ŸÇÿ±Ÿäÿ®ÿßŸã',
                
                addNewCustomer: 'ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸäŸÑ ÿ¨ÿØŸäÿØ',
                editCustomer: 'ÿ™ÿπÿØŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ',
                customerName: 'ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ',
                customerNamePlaceholder: 'ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ',
                subscriptionDuration: 'ŸÖÿØÿ© ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ',
                oneDay: 'ŸäŸàŸÖ Ÿàÿßÿ≠ÿØ',
                oneWeek: 'ÿ£ÿ≥ÿ®Ÿàÿπ (7 ÿ£ŸäÿßŸÖ)',
                oneMonth: 'ÿ¥Ÿáÿ± (30 ŸäŸàŸÖ)',
                customDuration: 'ŸÖÿØÿ© ŸÖÿÆÿµÿµÿ©',
                numberOfDays: 'ÿπÿØÿØ ÿßŸÑÿ£ŸäÿßŸÖ',
                enterDays: 'ÿ£ÿØÿÆŸÑ ÿπÿØÿØ ÿßŸÑÿ£ŸäÿßŸÖ',
                notes: 'ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™',
                notesPlaceholder: 'ÿ£Ÿä ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©...',
                addButton: 'ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿπŸÖŸäŸÑ',
                saveButton: 'ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿπÿØŸäŸÑÿßÿ™',
                cancelButton: 'ÿ•ŸÑÿ∫ÿßÿ°',
                
                startDate: 'ÿ®ÿØÿßŸäÿ©',
                endDate: 'ŸÜŸáÿßŸäÿ©',
                duration: 'ÿßŸÑŸÖÿØÿ©',
                days: 'ŸäŸàŸÖ',
                remaining: 'ÿ®ÿßŸÇŸä',
                expiredSince: 'ŸÖŸÜÿ™ŸáŸä ŸÖŸÜÿ∞',
                expiresToday: 'ŸäŸÜÿ™ŸáŸä ÿßŸÑŸäŸàŸÖ!',
                notesLabel: 'ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™',
                edit: 'ÿ™ÿπÿØŸäŸÑ',
                renew: 'ÿ™ÿ¨ÿØŸäÿØ',
                delete: 'ÿ≠ÿ∞ŸÅ',
                
                statusActive: 'ŸÜÿ¥ÿ∑',
                statusExpiring: 'ŸäŸÜÿ™ŸáŸä ŸÇÿ±Ÿäÿ®ÿßŸã',
                statusExpiresToday: 'ŸäŸÜÿ™ŸáŸä ÿßŸÑŸäŸàŸÖ',
                statusExpired: 'ŸÖŸÜÿ™ŸáŸä',
                
                deleteConfirm: 'ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑÿπŸÖŸäŸÑÿü',
                enterCustomerName: 'Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ',
                enterValidDays: 'Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿπÿØÿØ ÿ£ŸäÿßŸÖ ÿµÿ≠Ÿäÿ≠',
                noCustomers: 'ŸÑÿß ŸäŸàÿ¨ÿØ ÿπŸÖŸÑÿßÿ°',
                addFirstCustomer: 'ÿßÿ®ÿØÿ£ ÿ®ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸäŸÑŸÉ ÿßŸÑÿ£ŸàŸÑ',
                loading: 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...',
                
                footerText: 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßÿ¥ÿ™ÿ±ÿßŸÉÿßÿ™ PC - ÿ™ÿµŸÖŸäŸÖ ÿßÿ≠ÿ™ÿ±ÿßŸÅŸä ŸàŸÖÿ™ŸÇÿØŸÖ',
                dataStored: 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ≠ŸÅŸàÿ∏ÿ© ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ŸÅŸä ÿßŸÑŸÖÿ™ÿµŸÅÿ≠'
            },
            en: {
                loginTitle: 'Login',
                loginSubtitle: 'PC Subscription Manager',
                registerTitle: 'Create New Account',
                registerSubtitle: 'View-Only Account',
                username: 'Username',
                password: 'Password',
                confirmPassword: 'Confirm Password',
                loginButton: 'Login',
                registerButton: 'Create Account',
                backToLogin: 'Back to Login',
                noAccount: "Don't have an account?",
                createAccount: 'Create New Account',
                loginError: 'Invalid username or password',
                passwordMismatch: 'Passwords do not match',
                usernameExists: 'Username already exists',
                registerSuccess: 'Account created successfully! You can now login',
                usernameTooShort: 'Username must be at least 3 characters',
                passwordTooShort: 'Password must be at least 6 characters',
                
                appTitle: 'PC Subscription Manager',
                appSubtitle: 'Professional and Advanced Customer Subscription Management',
                logout: 'Logout',
                admin: 'Admin',
                viewer: 'Viewer',
                viewerMode: 'View-Only Mode - You cannot edit',
                
                totalCustomers: 'Total Customers',
                activeSubscriptions: 'Active Subscriptions',
                expiringSoon: 'Expiring Soon',
                expired: 'Expired',
                
                addCustomer: 'Add New Customer',
                searchPlaceholder: 'Search for customer...',
                all: 'All',
                active: 'Active',
                expiring: 'Expiring',
                
                addNewCustomer: 'Add New Customer',
                editCustomer: 'Edit Customer',
                customerName: 'Customer Name',
                customerNamePlaceholder: 'Enter customer name',
                subscriptionDuration: 'Subscription Duration',
                oneDay: 'One Day',
                oneWeek: 'One Week (7 Days)',
                oneMonth: 'One Month (30 Days)',
                customDuration: 'Custom Duration',
                numberOfDays: 'Number of Days',
                enterDays: 'Enter number of days',
                notes: 'Notes',
                notesPlaceholder: 'Any additional notes...',
                addButton: 'Add Customer',
                saveButton: 'Save Changes',
                cancelButton: 'Cancel',
                
                startDate: 'Start',
                endDate: 'End',
                duration: 'Duration',
                days: 'days',
                remaining: 'Remaining',
                expiredSince: 'Expired since',
                expiresToday: 'Expires today!',
                notesLabel: 'Notes',
                edit: 'Edit',
                renew: 'Renew',
                delete: 'Delete',
                
                statusActive: 'Active',
                statusExpiring: 'Expiring Soon',
                statusExpiresToday: 'Expires Today',
                statusExpired: 'Expired',
                
                deleteConfirm: 'Are you sure you want to delete this customer?',
                enterCustomerName: 'Please enter customer name',
                enterValidDays: 'Please enter a valid number of days',
                noCustomers: 'No Customers',
                addFirstCustomer: 'Start by adding your first customer',
                loading: 'Loading...',
                
                footerText: 'PC Subscription Manager - Professional & Advanced Design',
                dataStored: 'Data is automatically stored in your browser'
            }
        };

        function App() {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [language, setLanguage] = useState('ar');
            const [customers, setCustomers] = useState([]);
            const [showAddModal, setShowAddModal] = useState(false);
            const [showEditModal, setShowEditModal] = useState(false);
            const [editingCustomer, setEditingCustomer] = useState(null);
            const [formData, setFormData] = useState({
                name: '',
                notes: '',
                durationType: '7',
                customDays: ''
            });
            const [searchTerm, setSearchTerm] = useState('');
            const [filterStatus, setFilterStatus] = useState('all');
            const [loading, setLoading] = useState(true);
            const [showRegister, setShowRegister] = useState(false);
            const [loginData, setLoginData] = useState({ username: '', password: '' });
            const [registerData, setRegisterData] = useState({ username: '', password: '', confirmPassword: '' });
            const [message, setMessage] = useState({ type: '', text: '' });

            const t = translations[language];

            const ADMIN_USERNAME = 'M7-511';
            const ADMIN_PASSWORD = 'M12m12m12';

            useEffect(() => {
                checkLoginStatus();
            }, []);

            useEffect(() => {
                if (isLoggedIn) {
                    loadCustomers();
                }
            }, [isLoggedIn]);

            async function checkLoginStatus() {
                try {
                    setLoading(true);
                    const result = await window.storage.get('pc_current_user');
                    if (result && result.value) {
                        const user = JSON.parse(result.value);
                        setCurrentUser(user);
                        setIsLoggedIn(true);
                    }
                } catch (error) {
                    setIsLoggedIn(false);
                } finally {
                    setLoading(false);
                }
            }

            async function loadUsers() {
                try {
                    const result = await window.storage.get('pc_users');
                    if (result && result.value) {
                        return JSON.parse(result.value);
                    }
                    return [];
                } catch (error) {
                    return [];
                }
            }

            async function saveUsers(users) {
                try {
                    await window.storage.set('pc_users', JSON.stringify(users));
                } catch (error) {
                    console.error('Error saving users:', error);
                }
            }

            async function handleLogin(e) {
                e.preventDefault();
                setMessage({ type: '', text: '' });
                
                // Check admin credentials
                if (loginData.username === ADMIN_USERNAME && loginData.password === ADMIN_PASSWORD) {
                    const user = { username: ADMIN_USERNAME, role: 'admin' };
                    try {
                        await window.storage.set('pc_current_user', JSON.stringify(user));
                        setCurrentUser(user);
                        setIsLoggedIn(true);
                    } catch (error) {
                        console.error('Login error:', error);
                    }
                    return;
                }

                // Check regular users
                const users = await loadUsers();
                const user = users.find(u => u.username === loginData.username && u.password === loginData.password);
                
                if (user) {
                    const userData = { username: user.username, role: 'viewer' };
                    try {
                        await window.storage.set('pc_current_user', JSON.stringify(userData));
                        setCurrentUser(userData);
                        setIsLoggedIn(true);
                    } catch (error) {
                        console.error('Login error:', error);
                    }
                } else {
                    setMessage({ type: 'error', text: t.loginError });
                }
            }

            async function handleRegister(e) {
                e.preventDefault();
                setMessage({ type: '', text: '' });

                // Validation
                if (registerData.username.length < 3) {
                    setMessage({ type: 'error', text: t.usernameTooShort });
                    return;
                }

                if (registerData.password.length < 6) {
                    setMessage({ type: 'error', text: t.passwordTooShort });
                    return;
                }

                if (registerData.password !== registerData.confirmPassword) {
                    setMessage({ type: 'error', text: t.passwordMismatch });
                    return;
                }

                // Check if username is admin
                if (registerData.username === ADMIN_USERNAME) {
                    setMessage({ type: 'error', text: t.usernameExists });
                    return;
                }

                // Check if username exists
                const users = await loadUsers();
                if (users.find(u => u.username === registerData.username)) {
                    setMessage({ type: 'error', text: t.usernameExists });
                    return;
                }

                // Create new user
                const newUser = {
                    username: registerData.username,
                    password: registerData.password,
                    role: 'viewer',
                    createdAt: new Date().toISOString()
                };

                users.push(newUser);
                await saveUsers(users);

                setMessage({ type: 'success', text: t.registerSuccess });
                setRegisterData({ username: '', password: '', confirmPassword: '' });
                
                // Auto switch to login after 2 seconds
                setTimeout(() => {
                    setShowRegister(false);
                    setMessage({ type: '', text: '' });
                }, 2000);
            }

            async function handleLogout() {
                try {
                    await window.storage.delete('pc_current_user');
                    setIsLoggedIn(false);
                    setCurrentUser(null);
                    setLoginData({ username: '', password: '' });
                    setMessage({ type: '', text: '' });
                } catch (error) {
                    console.error('Logout error:', error);
                }
            }

            async function loadCustomers() {
                try {
                    setLoading(true);
                    const result = await window.storage.get('pc_customers_v4', true);
                    if (result && result.value) {
                        setCustomers(JSON.parse(result.value));
                    }
                } catch (error) {
                    setCustomers([]);
                } finally {
                    setLoading(false);
                }
            }

            async function saveCustomers(updatedCustomers) {
                try {
                    await window.storage.set('pc_customers_v4', JSON.stringify(updatedCustomers), true);
                    setCustomers(updatedCustomers);
                } catch (error) {
                    console.error('Save error:', error);
                }
            }

            function calculateEndDate(startDate, days) {
                const date = new Date(startDate);
                date.setDate(date.getDate() + parseInt(days));
                return date.toISOString().split('T')[0];
            }

            function getStatus(endDate) {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const end = new Date(endDate);
                end.setHours(0, 0, 0, 0);
                const diffTime = end - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                if (diffDays < 0) return { status: t.statusExpired, color: '#ef4444', icon: '‚õî', days: Math.abs(diffDays), type: 'expired' };
                if (diffDays === 0) return { status: t.statusExpiresToday, color: '#f59e0b', icon: '‚è∞', days: 0, type: 'expiring' };
                if (diffDays <= 2) return { status: t.statusExpiring, color: '#f59e0b', icon: '‚ö†Ô∏è', days: diffDays, type: 'expiring' };
                return { status: t.statusActive, color: '#10b981', icon: '‚úì', days: diffDays, type: 'active' };
            }

            function handleAddCustomer(e) {
                e.preventDefault();
                if (!formData.name.trim()) {
                    alert(t.enterCustomerName);
                    return;
                }

                let days = formData.durationType;
                if (formData.durationType === 'custom') {
                    if (!formData.customDays || formData.customDays < 1) {
                        alert(t.enterValidDays);
                        return;
                    }
                    days = formData.customDays;
                }

                const today = new Date().toISOString().split('T')[0];
                const customer = {
                    id: Date.now(),
                    name: formData.name,
                    notes: formData.notes,
                    startDate: today,
                    endDate: calculateEndDate(today, days),
                    duration: parseInt(days),
                    addedAt: new Date().toISOString(),
                    addedBy: currentUser.username
                };

                const updatedCustomers = [...customers, customer];
                saveCustomers(updatedCustomers);
                setFormData({ name: '', notes: '', durationType: '7', customDays: '' });
                setShowAddModal(false);
            }

            function handleEditCustomer(e) {
                e.preventDefault();
                if (!formData.name.trim()) {
                    alert(t.enterCustomerName);
                    return;
                }

                let days = formData.durationType;
                if (formData.durationType === 'custom') {
                    if (!formData.customDays || formData.customDays < 1) {
                        alert(t.enterValidDays);
                        return;
                    }
                    days = formData.customDays;
                }

                const updatedCustomers = customers.map(customer => 
                    customer.id === editingCustomer.id 
                        ? {
                            ...customer,
                            name: formData.name,
                            notes: formData.notes,
                            endDate: calculateEndDate(customer.startDate, days),
                            duration: parseInt(days),
                            lastModified: new Date().toISOString(),
                            modifiedBy: currentUser.username
                        }
                        : customer
                );
                
                saveCustomers(updatedCustomers);
                setShowEditModal(false);
                setEditingCustomer(null);
                setFormData({ name: '', notes: '', durationType: '7', customDays: '' });
            }

            function openEditModal(customer) {
                setEditingCustomer(customer);
                const isDurationPreset = ['1', '7', '30'].includes(customer.duration.toString());
                setFormData({
                    name: customer.name,
                    notes: customer.notes || '',
                    durationType: isDurationPreset ? customer.duration.toString() : 'custom',
                    customDays: isDurationPreset ? '' : customer.duration.toString()
                });
                setShowEditModal(true);
            }

            function handleRenew(id) {
                const customer = customers.find(c => c.id === id);
                const today = new Date().toISOString().split('T')[0];
                const updatedCustomers = customers.map(c => 
                    c.id === id 
                        ? { 
                            ...c, 
                            startDate: today, 
                            endDate: calculateEndDate(today, customer.duration),
                            lastRenewed: new Date().toISOString(),
                            renewedBy: currentUser.username
                        }
                        : c
                );
                saveCustomers(updatedCustomers);
            }

            function handleDelete(id) {
                if (confirm(t.deleteConfirm)) {
                    const updatedCustomers = customers.filter(customer => customer.id !== id);
                    saveCustomers(updatedCustomers);
                }
            }

            const isAdmin = currentUser && currentUser.role === 'admin';

            const filteredCustomers = customers
                .filter(customer => {
                    const matchesSearch = customer.name.toLowerCase().includes(searchTerm.toLowerCase());
                    
                    if (filterStatus === 'all') return matchesSearch;
                    
                    const statusType = getStatus(customer.endDate).type;
                    return matchesSearch && filterStatus === statusType;
                })
                .sort((a, b) => new Date(a.endDate) - new Date(b.endDate));

            const stats = {
                total: customers.length,
                active: customers.filter(c => getStatus(c.endDate).type === 'active').length,
                expiring: customers.filter(c => getStatus(c.endDate).type === 'expiring').length,
                expired: customers.filter(c => getStatus(c.endDate).type === 'expired').length
            };

            if (loading) {
                return (
                    <div style={{minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>
                        <div style={{textAlign: 'center'}}>
                            <div className="loading-spinner" style={{margin: '0 auto'}}></div>
                            <p style={{marginTop: '24px', color: 'white', fontSize: '18px', fontWeight: '600'}}>
                                {t.loading}
                            </p>
                        </div>
                    </div>
                );
            }

            if (!isLoggedIn) {
                return (
                    <div className="login-container">
                        <div className="lang-switcher">
                            <button 
                                className={`lang-btn ${language === 'ar' ? 'active' : ''}`}
                                onClick={() => setLanguage('ar')}
                            >
                                üá∏üá¶ ÿπÿ±ÿ®Ÿä
                            </button>
                            <button 
                                className={`lang-btn ${language === 'en' ? 'active' : ''}`}
                                onClick={() => setLanguage('en')}
                            >
                                üá¨üáß English
                            </button>
                        </div>

                        <div className="login-box">
                            <div style={{textAlign: 'center', marginBottom: '36px'}}>
                                <div style={{fontSize: '56px', marginBottom: '16px'}}>üíª</div>
                                <h1 style={{fontSize: '28px', fontWeight: '800', color: '#1f2937', marginBottom: '8px'}}>
                                    {showRegister ? t.registerTitle : t.loginTitle}
                                </h1>
                                <p style={{color: '#6b7280', fontSize: '15px'}}>
                                    {showRegister ? t.registerSubtitle : t.loginSubtitle}
                                </p>
                            </div>

                            {message.text && (
                                <div className={`alert alert-${message.type}`}>
                                    {message.type === 'success' ? '‚úì' : '‚ö†Ô∏è'} {message.text}
                                </div>
                            )}

                            {!showRegister ? (
                                <form onSubmit={handleLogin}>
                                    <div style={{marginBottom: '20px'}}>
                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151'}}>
                                            {t.username}
                                        </label>
                                        <input
                                            type="text"
                                            value={loginData.username}
                                            onChange={(e) => setLoginData({...loginData, username: e.target.value})}
                                            className="input-field"
                                            required
                                            autoComplete="username"
                                        />
                                    </div>

                                    <div style={{marginBottom: '28px'}}>
                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151'}}>
                                            {t.password}
                                        </label>
                                        <input
                                            type="password"
                                            value={loginData.password}
                                            onChange={(e) => setLoginData({...loginData, password: e.target.value})}
                                            className="input-field"
                                            required
                                            autoComplete="current-password"
                                        />
                                    </div>

                                    <button type="submit" className="btn btn-primary" style={{width: '100%', fontSize: '16px', marginBottom: '16px'}}>
                                        {t.loginButton}
                                    </button>

                                    <div style={{textAlign: 'center'}}>
                                        <span style={{color: '#6b7280', fontSize: '14px'}}>{t.noAccount} </span>
                                        <button type="button" className="link-btn" onClick={() => {
                                            setShowRegister(true);
                                            setMessage({ type: '', text: '' });
                                        }}>
                                            {t.createAccount}
                                        </button>
                                    </div>
                                </form>
                            ) : (
                                <form onSubmit={handleRegister}>
                                    <div style={{marginBottom: '20px'}}>
                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151'}}>
                                            {t.username}
                                        </label>
                                        <input
                                            type="text"
                                            value={registerData.username}
                                            onChange={(e) => setRegisterData({...registerData, username: e.target.value})}
                                            className="input-field"
                                            required
                                            minLength="3"
                                            autoComplete="username"
                                        />
                                    </div>

                                    <div style={{marginBottom: '20px'}}>
                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151'}}>
                                            {t.password}
                                        </label>
                                        <input
                                            type="password"
                                            value={registerData.password}
                                            onChange={(e) => setRegisterData({...registerData, password: e.target.value})}
                                            className="input-field"
                                            required
                                            minLength="6"
                                            autoComplete="new-password"
                                        />
                                    </div>

                                    <div style={{marginBottom: '28px'}}>
                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151'}}>
                                            {t.confirmPassword}
                                        </label>
                                        <input
                                            type="password"
                                            value={registerData.confirmPassword}
                                            onChange={(e) => setRegisterData({...registerData, confirmPassword: e.target.value})}
                                            className="input-field"
                                            required
                                            minLength="6"
                                            autoComplete="new-password"
                                        />
                                    </div>

                                    <button type="submit" className="btn btn-success" style={{width: '100%', fontSize: '16px', marginBottom: '16px'}}>
                                        {t.registerButton}
                                    </button>

                                    <div style={{textAlign: 'center'}}>
                                        <button type="button" className="link-btn" onClick={() => {
                                            setShowRegister(false);
                                            setMessage({ type: '', text: '' });
                                            setRegisterData({ username: '', password: '', confirmPassword: '' });
                                        }}>
                                            ‚Üê {t.backToLogin}
                                        </button>
                                    </div>
                                </form>
                            )}
                        </div>
                    </div>
                );
            }

            return (
                <div className="app-container" dir={language === 'ar' ? 'rtl' : 'ltr'}>
                    <div className="lang-switcher">
                        <button 
                            className={`lang-btn ${language === 'ar' ? 'active' : ''}`}
                            onClick={() => setLanguage('ar')}
                        >
                            üá∏üá¶ ÿπÿ±ÿ®Ÿä
                        </button>
                        <button 
                            className={`lang-btn ${language === 'en' ? 'active' : ''}`}
                            onClick={() => setLanguage('en')}
                        >
                            üá¨üáß English
                        </button>
                    </div>

                    <div className="header-gradient">
                        <div style={{maxWidth: '1280px', margin: '0 auto', padding: '0 24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '16px'}}>
                            <div>
                                <h1 style={{fontSize: '36px', fontWeight: '800', color: 'white', marginBottom: '8px'}}>
                                    üíª {t.appTitle}
                                </h1>
                                <div style={{display: 'flex', alignItems: 'center', gap: '12px', flexWrap: 'wrap'}}>
                                    <p style={{color: 'rgba(255,255,255,0.95)', fontSize: '16px'}}>
                                        {t.appSubtitle}
                                    </p>
                                    {isAdmin ? (
                                        <span className="admin-badge">
                                            üëë {t.admin}
                                        </span>
                                    ) : (
                                        <span className="viewer-badge">
                                            üëÅÔ∏è {t.viewer}
                                        </span>
                                    )}
                                </div>
                            </div>
                            <div style={{display: 'flex', gap: '12px', alignItems: 'center'}}>
                                <span style={{color: 'rgba(255,255,255,0.9)', fontSize: '15px', fontWeight: '600'}}>
                                    {currentUser.username}
                                </span>
                                <button onClick={handleLogout} className="btn btn-logout">
                                    üö™ {t.logout}
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style={{maxWidth: '1280px', margin: '0 auto', padding: '32px 24px'}}>
                        {!isAdmin && (
                            <div className="alert alert-info" style={{marginBottom: '24px'}}>
                                üëÅÔ∏è {t.viewerMode}
                            </div>
                        )}

                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(260px, 1fr))', gap: '24px', marginBottom: '32px'}}>
                            <div className="stat-card" style={{borderLeftColor: '#667eea', borderRightColor: '#667eea'}}>
                                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
                                    <div>
                                        <p style={{color: '#6b7280', fontSize: '14px', marginBottom: '8px', fontWeight: '600'}}>
                                            {t.totalCustomers}
                                        </p>
                                        <p style={{fontSize: '42px', fontWeight: '800', color: '#1f2937'}}>{stats.total}</p>
                                    </div>
                                    <div style={{fontSize: '48px'}}>üë•</div>
                                </div>
                            </div>

                            <div className="stat-card" style={{borderLeftColor: '#10b981', borderRightColor: '#10b981'}}>
                                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
                                    <div>
                                        <p style={{color: '#6b7280', fontSize: '14px', marginBottom: '8px', fontWeight: '600'}}>
                                            {t.activeSubscriptions}
                                        </p>
                                        <p style={{fontSize: '42px', fontWeight: '800', color: '#10b981'}}>{stats.active}</p>
                                    </div>
                                    <div style={{fontSize: '48px'}}>‚úÖ</div>
                                </div>
                            </div>

                            <div className="stat-card" style={{borderLeftColor: '#f59e0b', borderRightColor: '#f59e0b'}}>
                                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
                                    <div>
                                        <p style={{color: '#6b7280', fontSize: '14px', marginBottom: '8px', fontWeight: '600'}}>
                                            {t.expiringSoon}
                                        </p>
                                        <p style={{fontSize: '42px', fontWeight: '800', color: '#f59e0b'}}>{stats.expiring}</p>
                                    </div>
                                    <div style={{fontSize: '48px'}}>‚ö†Ô∏è</div>
                                </div>
                            </div>

                            <div className="stat-card" style={{borderLeftColor: '#ef4444', borderRightColor: '#ef4444'}}>
                                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
                                    <div>
                                        <p style={{color: '#6b7280', fontSize: '14px', marginBottom: '8px', fontWeight: '600'}}>
                                            {t.expired}
                                        </p>
                                        <p style={{fontSize: '42px', fontWeight: '800', color: '#ef4444'}}>{stats.expired}</p>
                                    </div>
                                    <div style={{fontSize: '48px'}}>‚õî</div>
                                </div>
                            </div>
                        </div>

                        <div className="card" style={{padding: '24px', marginBottom: '32px'}}>
                            <div style={{display: 'flex', flexWrap: 'wrap', gap: '16px'}}>
                                {isAdmin && (
                                    <button onClick={() => setShowAddModal(true)} className="btn btn-primary">
                                        ‚ûï {t.addCustomer}
                                    </button>
                                )}

                                <input
                                    type="text"
                                    placeholder={`üîç ${t.searchPlaceholder}`}
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="input-field"
                                    style={{flex: '1', minWidth: '280px'}}
                                />

                                <select
                                    value={filterStatus}
                                    onChange={(e) => setFilterStatus(e.target.value)}
                                    className="input-field"
                                    style={{minWidth: '180px'}}
                                >
                                    <option value="all">{t.all}</option>
                                    <option value="active">{t.active}</option>
                                    <option value="expiring">{t.expiring}</option>
                                    <option value="expired">{t.expired}</option>
                                </select>
                            </div>
                        </div>

                        {filteredCustomers.length === 0 ? (
                            <div className="card empty-state">
                                <div className="empty-icon">üì≠</div>
                                <p style={{fontSize: '24px', fontWeight: '700', color: '#9ca3af', marginBottom: '8px'}}>
                                    {t.noCustomers}
                                </p>
                                {isAdmin && (
                                    <p style={{color: '#d1d5db', fontSize: '16px'}}>
                                        {t.addFirstCustomer}
                                    </p>
                                )}
                            </div>
                        ) : (
                            <div style={{display: 'flex', flexDirection: 'column', gap: '20px'}}>
                                {filteredCustomers.map(customer => {
                                    const statusInfo = getStatus(customer.endDate);

                                    return (
                                        <div 
                                            key={customer.id} 
                                            className="customer-card"
                                            style={{
                                                borderLeftColor: statusInfo.color,
                                                borderRightColor: statusInfo.color
                                            }}
                                        >
                                            <div style={{display: 'flex', flexDirection: 'column', gap: '20px'}}>
                                                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '20px', flexWrap: 'wrap'}}>
                                                    <div style={{flex: '1', minWidth: '300px'}}>
                                                        <div style={{display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px', flexWrap: 'wrap'}}>
                                                            <h3 style={{fontSize: '26px', fontWeight: '800', color: '#1f2937'}}>
                                                                {customer.name}
                                                            </h3>
                                                            <span className={`status-${statusInfo.type === 'active' ? 'active' : statusInfo.type === 'expiring' ? 'warning' : 'danger'}`}>
                                                                {statusInfo.icon} {statusInfo.status}
                                                            </span>
                                                        </div>
                                                        
                                                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))', gap: '14px', fontSize: '15px', color: '#4b5563'}}>
                                                            <div style={{display: 'flex', alignItems: 'center', gap: '10px', fontWeight: '600'}}>
                                                                <span style={{fontSize: '20px'}}>üìÖ</span>
                                                                <span>{t.startDate}: <strong style={{color: '#1f2937'}}>{customer.startDate}</strong></span>
                                                            </div>
                                                            <div style={{display: 'flex', alignItems: 'center', gap: '10px', fontWeight: '600'}}>
                                                                <span style={{fontSize: '20px'}}>üèÅ</span>
                                                                <span>{t.endDate}: <strong style={{color: '#1f2937'}}>{customer.endDate}</strong></span>
                                                            </div>
                                                            <div style={{display: 'flex', alignItems: 'center', gap: '10px', fontWeight: '600'}}>
                                                                <span style={{fontSize: '20px'}}>‚åõ</span>
                                                                <span>{t.duration}: <strong style={{color: '#1f2937'}}>{customer.duration} {t.days}</strong></span>
                                                            </div>
                                                            <div style={{display: 'flex', alignItems: 'center', gap: '10px', fontWeight: '700'}}>
                                                                <span style={{fontSize: '20px'}}>‚è≥</span>
                                                                <span style={{color: statusInfo.color}}>
                                                                    {statusInfo.type === 'expired' 
                                                                        ? `${t.expiredSince} ${statusInfo.days} ${t.days}`
                                                                        : statusInfo.type === 'expiring' && statusInfo.days === 0
                                                                        ? t.expiresToday
                                                                        : `${t.remaining} ${statusInfo.days} ${t.days}`
                                                                    }
                                                                </span>
                                                            </div>
                                                        </div>
                                                        
                                                        {customer.notes && (
                                                            <div style={{
                                                                marginTop: '16px',
                                                                padding: '14px 16px',
                                                                background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)',
                                                                borderRadius: '12px',
                                                                fontSize: '14px',
                                                                color: '#495057',
                                                                borderLeft: '4px solid #667eea',
                                                                borderRight: '4px solid #667eea'
                                                            }}>
                                                                <strong style={{fontSize: '15px'}}>üìù {t.notesLabel}:</strong> {customer.notes}
                                                            </div>
                                                        )}
                                                    </div>

                                                    {isAdmin && (
                                                        <div style={{display: 'flex', gap: '12px', flexWrap: 'wrap'}}>
                                                            <button
                                                                onClick={() => openEditModal(customer)}
                                                                className="btn btn-edit"
                                                            >
                                                                ‚úèÔ∏è {t.edit}
                                                            </button>
                                                            <button
                                                                onClick={() => handleRenew(customer.id)}
                                                                className="btn btn-success"
                                                            >
                                                                üîÑ {t.renew}
                                                            </button>
                                                            <button
                                                                onClick={() => handleDelete(customer.id)}
                                                                className="btn btn-danger"
                                                            >
                                                                üóëÔ∏è {t.delete}
                                                            </button>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                                        </div>
                                    );
                                })}
                            </div>
                        )}
                    </div>

                    {isAdmin && showAddModal && (
                        <div className="modal-overlay" onClick={() => setShowAddModal(false)}>
                            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                                <h2 style={{fontSize: '28px', fontWeight: '800', marginBottom: '28px', color: '#1f2937'}}>
                                    ‚ûï {t.addNewCustomer}
                                </h2>
                                <form onSubmit={handleAddCustomer}>
                                    <div style={{display: 'flex', flexDirection: 'column', gap: '20px'}}>
                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.customerName} *
                                            </label>
                                            <input
                                                type="text"
                                                required
                                                value={formData.name}
                                                onChange={(e) => setFormData({...formData, name: e.target.value})}
                                                className="input-field"
                                                placeholder={t.customerNamePlaceholder}
                                            />
                                        </div>

                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.subscriptionDuration} *
                                            </label>
                                            <select
                                                value={formData.durationType}
                                                onChange={(e) => setFormData({...formData, durationType: e.target.value})}
                                                className="input-field"
                                            >
                                                <option value="1">{t.oneDay}</option>
                                                <option value="7">{t.oneWeek}</option>
                                                <option value="30">{t.oneMonth}</option>
                                                <option value="custom">{t.customDuration}</option>
                                            </select>
                                        </div>

                                        {formData.durationType === 'custom' && (
                                            <div>
                                                <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                    {t.numberOfDays}
                                                </label>
                                                <input
                                                    type="number"
                                                    min="1"
                                                    value={formData.customDays}
                                                    onChange={(e) => setFormData({...formData, customDays: e.target.value})}
                                                    className="input-field"
                                                    placeholder={t.enterDays}
                                                />
                                            </div>
                                        )}

                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.notes}
                                            </label>
                                            <textarea
                                                value={formData.notes}
                                                onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                                className="input-field"
                                                placeholder={t.notesPlaceholder}
                                                rows="4"
                                            />
                                        </div>
                                    </div>

                                    <div style={{display: 'flex', gap: '12px', marginTop: '28px'}}>
                                        <button type="submit" className="btn btn-success" style={{flex: '1'}}>
                                            ‚úì {t.addButton}
                                        </button>
                                        <button 
                                            type="button" 
                                            onClick={() => {
                                                setShowAddModal(false);
                                                setFormData({ name: '', notes: '', durationType: '7', customDays: '' });
                                            }}
                                            className="btn btn-secondary"
                                            style={{flex: '1'}}
                                        >
                                            ‚úï {t.cancelButton}
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {isAdmin && showEditModal && (
                        <div className="modal-overlay" onClick={() => setShowEditModal(false)}>
                            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                                <h2 style={{fontSize: '28px', fontWeight: '800', marginBottom: '28px', color: '#1f2937'}}>
                                    ‚úèÔ∏è {t.editCustomer}
                                </h2>
                                <form onSubmit={handleEditCustomer}>
                                    <div style={{display: 'flex', flexDirection: 'column', gap: '20px'}}>
                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.customerName} *
                                            </label>
                                            <input
                                                type="text"
                                                required
                                                value={formData.name}
                                                onChange={(e) => setFormData({...formData, name: e.target.value})}
                                                className="input-field"
                                            />
                                        </div>

                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.subscriptionDuration} *
                                            </label>
                                            <select
                                                value={formData.durationType}
                                                onChange={(e) => setFormData({...formData, durationType: e.target.value})}
                                                className="input-field"
                                            >
                                                <option value="1">{t.oneDay}</option>
                                                <option value="7">{t.oneWeek}</option>
                                                <option value="30">{t.oneMonth}</option>
                                                <option value="custom">{t.customDuration}</option>
                                            </select>
                                        </div>

                                        {formData.durationType === 'custom' && (
                                            <div>
                                                <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                    {t.numberOfDays}
                                                </label>
                                                <input
                                                    type="number"
                                                    min="1"
                                                    value={formData.customDays}
                                                    onChange={(e) => setFormData({...formData, customDays: e.target.value})}
                                                    className="input-field"
                                                />
                                            </div>
                                        )}

                                        <div>
                                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '700', color: '#374151', fontSize: '15px'}}>
                                                {t.notes}
                                            </label>
                                            <textarea
                                                value={formData.notes}
                                                onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                                className="input-field"
                                                rows="4"
                                            />
                                        </div>
                                    </div>

                                    <div style={{display: 'flex', gap: '12px', marginTop: '28px'}}>
                                        <button type="submit" className="btn btn-success" style={{flex: '1'}}>
                                            ‚úì {t.saveButton}
                                        </button>
                                        <button 
                                            type="button" 
                                            onClick={() => {
                                                setShowEditModal(false);
                                                setEditingCustomer(null);
                                                setFormData({ name: '', notes: '', durationType: '7', customDays: '' });
                                            }}
                                            className="btn btn-secondary"
                                            style={{flex: '1'}}
                                        >
                                            ‚úï {t.cancelButton}
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    <div style={{background: 'linear-gradient(135deg, #1f2937 0%, #111827 100%)', padding: '32px 24px', marginTop: '60px'}}>
                        <div style={{maxWidth: '1280px', margin: '0 auto', textAlign: 'center'}}>
                            <p style={{fontSize: '16px', color: '#d1d5db', fontWeight: '600', marginBottom: '8px'}}>
                                {t.footerText}
                            </p>
                            <p style={{fontSize: '14px', color: '#9ca3af'}}>
                                ‚úì {t.dataStored}
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>